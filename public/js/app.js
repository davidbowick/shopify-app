!function(e){var t={};function a(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(r,o,function(t){return e[t]}.bind(null,o));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=0)}({0:function(e,t,a){a("bUC5"),e.exports=a("pyCd")},bUC5:function(t,a){var r=$('<svg width="30px"  height="30px"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="lds-rolling" style="background: none;"><circle cx="50" cy="50" fill="none" ng-attr-stroke="{{config.color}}" ng-attr-stroke-width="{{config.width}}" ng-attr-r="{{config.radius}}" ng-attr-stroke-dasharray="{{config.dasharray}}" stroke="#ffffff" stroke-width="10" r="25" stroke-dasharray="117.80972450961724 41.269908169872416" transform="rotate(41.2639 50 50)"><animateTransform attributeName="transform" type="rotate" calcMode="linear" values="0 50 50;360 50 50" keyTimes="0;1" dur="1s" begin="0s" repeatCount="indefinite"></animateTransform></circle></svg>'),o="https://"+window.location.hostname;function n(e){return e=(e=e.replace(/^\s+|\s+$/g,"").toLowerCase()).replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function i(e,t,a){var r;return function(){var o=this,n=arguments,i=function(){r=null,a||e.apply(o,n)},d=a&&!r;clearTimeout(r),r=setTimeout(i,t),d&&e.apply(o,n)}}function d(){$(".draft-order__item").length?s("#create-draft-order"):c("#create-draft-order"),$(".product-list__product").length?s("#clear-results"):c("#clear-results"),$(".product-list__product").length?s(".product-list__hidden"):c(".product-list__hidden")}function s(e){$(e).fadeIn()}function c(e){$(e).fadeOut()}String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"g"),t)};var l=function(e,t,a){for(var r,o=a||window,n=0;o&&(r=e[n]);n++)o=r in o?o[r]:t?o[r]={}:void 0;return o};jQuery.obj=function(e,t,a,r){if(null!=t){var o=e.split("."),n=o.pop(),i=l(o,!0,r);return i&&n?i[n]=t:void 0}return l(e.split("."),a,r)},$(function(){$("#add-product__form").submit(function(e){e.preventDefault()}),$("#addCustomerForm").submit(function(e){e.preventDefault()});var t="",a="#add-product";$(a).focus(),$(a).keyup(i(function(){var e=$(this).val();e.length>=3&&t!=e&&(t=e,$(".main-preloader").fadeIn(),$.ajax({url:o+"/products/"+e,success:function(e){$(".product-list__hidden").empty(),e.length?($(".no-results").hide(),$(e).each(function(e,t){var a=t.node.title,r=(t.node.id,t.node.handle,t.node.featuredImage.transformedSrc),o=$('<div class="product-list__product flex"></div>'),n=($('<div class="product-list__image"><img src="'+r+'" width="90" /></div>').appendTo(o),$('<div class="product-list__details"></div></div>').appendTo(o)),i=($('<div class="draft-order__title"><h5>'+a+"</h5></div>").appendTo(n),$('<select class="variant-list__variants" style="display: none;"></select>').appendTo(n)),d=$('<div class="flex flex--wrap grid--half-gutters"></div>').appendTo(n);$(t.node.options).each(function(e,t){var a=t.name.toLowerCase().replace(" ","-"),r=$('<div class="regular__input grid__item field"></div>').appendTo(d);$("<label>"+t.name+"</label>").appendTo(r),$('<select class="option-'+e+'" name="'+a+'"></select').appendTo(r)}),a.indexOf("Special Order")>-1&&function(e){var t=$('<div class="special__input grid__item field"><label>Color</label><select class="color" name="color[]"></select></div>').appendTo(e);$.each(["Oil Rubbed Bronze","Heavy Bronze","Silver Pewter","Black","Pewter"],function(e,a){$(t).find("select").append('<option value="'+a.replace('"','"')+'">'+a+"</option>")});var a=$('<div class="special__input grid__item field"><label>Glass</label><select class="glass" name="glass[]"></select></div>').appendTo(e);$.each(["Low-E","Sandblast/Frost","Flemish","Rain","Aquatex","Rainbow","Ford Blue","Tea","Water Cube"],function(e,t){$(a).find("select").append('<option value="'+t.replace('"','"')+'">'+t+"</option>")});var r=$('<div class="special__input grid__item field"><label>Swing</label><select name="swing[]"></select></div>').appendTo(e);$.each(["Left-Hand - In swing","Left-Hand - Out swing","Right-Hand - In swing","Right-Hand - Out swing"],function(e,t){$(r).find("select").append('<option value="'+t.replace('"','"')+'">'+t+"</option>")})}(d),$(".product-list__hidden").append(o);var s=[],c=[],l=[];$(t.node.variants.edges).each(function(e,t){var n=t.node.title,d=t.node.id;$(i).append('<option data-image="'+r+'" data-product-title="'+a+'" data-variant-title="'+n.replaceAll('"',"˝")+'" data-variant-id="'+d+'" value="'+d+'">'+n+"</option>");var u=n.split(" / ");$(u).each(function(e,t){0==e&&-1===s.indexOf(t)&&(o.find(".option-0").append('<option value="'+t+'">'+t+"</option>"),s.push(t)),1==e&&-1===c.indexOf(t)&&(o.find(".option-1").append('<option value="'+t+'">'+t+"</option>"),c.push(t)),2==e&&-1===l.indexOf(t)&&(o.find(".option-2").append('<option value="'+t+'">'+t+"</option>"),l.push(t))})}),$(i).wrap('<div class="field"/>');$('<a href="#" class="product-list__add btn">Add</a>').appendTo(n);$(".main-preloader").fadeOut()}),$(".regular__input select").on("change",function(){!function(e){var t=e,a=t.find("option:selected"),r="",o=(t.parent().siblings(),t.closest(".product-list__product")),n=o.find(".variant-list__variants"),i=[],d=[],s=t.attr("class").split("-")[1];0==s&&(o.find(".option-1").empty(),o.find(".option-2").empty(),r=a.text()),1==s&&(o.find(".option-2").empty(),r=o.find(".option-0 option:selected").text()+" / "+a.text()),n.find("option").each(function(e,t){if($(t).text().indexOf(r)>-1){var a=$(t).text().split(" / ");$.each(a,function(e,t){var r=a[e].replaceAll('"',"˝");0==s&&(1==e&&-1==i.indexOf(t)&&(o.find(".option-"+e).append('<option value="'+r+'">'+a[e]+"</option>"),i.push(t)),2==e&&-1==d.indexOf(t)&&(o.find(".option-"+e).append('<option value="'+r+'">'+a[e]+"</option>"),d.push(t))),1==s&&2==e&&-1==d.indexOf(t)&&(o.find(".option-"+e).append('<option value="'+r+'">'+a[e]+"</option>"),d.push(t))})}});var c=[];o.find(".regular__input").each(function(e,t){var a=$(this);c.push(a.find("option:selected").text())});var l=c.join(" / ");o.find("option").filter(function(){return $(this).text()===l}).prop("selected",!0)}($(this))}),$(".option-0").trigger("change"),d()):($(".main-preloader").fadeOut(),$(".product-list__hidden").hide(),$(".no-results").fadeIn())},error:function(e){console.log(e)}}))},500)),$("#custom-height,#custom-width").keyup(i(function(){$(this).val();$("#custom-height").val()&&$("#custom-width").val()&&$(".calculate--square-footage").trigger("click")},250));var s=["Reference","Style","Room","Location","Qty","Type","Width","Height","Description","Construction","Glass","Swing","Extended Price","Base Price"];function c(){$("#current-customer > .flex").remove(),$("#current-customer").hide(),$("#addCustomerForm").show().find("input").val("").focus()}$(".custom-product__grid").hasClass("dev")&&($("#custom-reference").val("Cool Title, Bro"),$("#custom-style").val("Custom Style Value"),$("#custom-room").val("Custom Room Value"),$("#custom-location").val("Custom Location Value"),$("#custom-description").val("Custom Description Value"),$("#custom-construction").val("Custom Construction Value"),$("#custom-qty").val(1),$("#custom-width").val(61),$("#custom-height").val(81),$("#custom-extended-price").val(3567),$("#custom-base-price").val(170),$("#custom-weight").val(2e3),$("#custom-jamb").val("6˝"),$("#custom-glass").val("Low-e"),$("#custom-color").val("Brushed Steel"),$(".calculate--square-footage").trigger("click")),$("#custom-qty").val(1),$("#custom-base-price").val(170),$("#custom-base-price").addClass("money-input"),$("#custom-extended-price").addClass("money-input"),$(document).on("blur",".money-input",function(){if(""!=$(this).val()){var e=parseInt($(this).val()).toFixed(2);$(this).attr("data-price-value",$(this).val()),$(this).val(e)}}),$(document).on("paste",".money-input",function(){var t=e.originalEvent.clipboardData||window.clipboardData;$.isNumeric(t.getData("text"))||e.preventDefault()}),$(".money-input").blur(),$("#custom-extended-price").on("keyup",function(){$(this).val()?$(this).removeClass("error"):$(this).addClass("error")}),$(document).on("click",".custom--create-btn",function(e){e.preventDefault();var t=$(this),a=($("#custom-title").val(),t.text());if($info=[],$properties=[],""==$("#custom-extended-price").val())return $("#custom-extended-price").addClass("error"),!1;t.text("Adding...");var r=$("#custom-width").val(),o=$("#custom-height").val(),i=parseInt($("#custom-qty").val()),d=r+"˝x"+o+"˝",c=$(".custom--square-footage").text().split(" ")[0];$properties.push(d);$("#custom-base-price").val();var l=$("#custom-extended-price").val(),u=(new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l),$("#custom-weight").val(),$('<div class="draft-order__item draft-order__custom-product" style="display: none;"></div>').appendTo(".draft-order__saved-products"));$.each(s,function(e,t){var a=n(t),r=$("#custom-"+a).val();r&&($(u).attr("data-"+a,r),$properties.push(r),"Glass"!==t&&"Swing"!==t||$info.push(r)),console.log(a,r)}),r&&u.attr("data-width",r),o&&u.attr("data-height",o),c&&u.attr("data-square-footage",c),$('<div class="draft-order__title"><h5>Custom Product</h5></div>').appendTo(u).append('<span class="draft-order__variant">'+d+" / "+$info.join(" / ")+"</span>");var p=$('<div class="flex flex--wrap grid--half-gutters"></div>').appendTo(u);i=$('<div class="grid__item field inline--label"><label>Qty</label><input class="variant-quantity" name="quantity[]" type="number" value="'+i+'"></div>').appendTo(p);$("#create-draft-order").fadeIn();$('<a class="draft-order__remove" href="#">&times;</a>').appendTo(u);u.fadeIn(),setTimeout(function(){t.text(a)},500)}),$(document).on("click",".custom--clear",function(e){e.preventDefault(),$(".custom-product__grid input").val(""),$(".custom--square-footage").html("&nbsp;"),$("#custom-glass,#custom-swing").val("TBD"),$("#custom-qty").val(1),$("#custom-base-price").val(170)}),$(document).on("click",".product-list__add",function(e){e.preventDefault();var t=$(this).closest(".product-list__product"),a=t.find(".variant-list__variants option:selected"),r=a.data("variant-id").split("/").pop(),o=a.data("product-title"),n=a.data("variant-title"),i=a.data("image"),s=t.find(".special__input"),c=$('<div class="draft-order__item draft-order__saved-product flex" style="display: none;"></div>').appendTo(".draft-order__saved-products"),l=($('<div class="draft-order__image"><img src="'+i+'"></div>').appendTo(c),$('<div class="draft-order__description"></div>').appendTo(c)),u=$('<div class="draft-order__title"><h5>'+o+"</h5></div>").appendTo(l),p=($("<div>"+n+"</div>").appendTo(u),$('<div class="flex flex--wrap grid--half-gutters"></div>').appendTo(l));$('<div class="grid__item field inline--label"><label>Qty</label><input class="variant-quantity" name="quantity[]" type="number" value="1"></div>').appendTo(p),$('<input type="hidden" value="'+r+'" class="variant-id" name="variant_id[]">').appendTo(p);if(s.length){var f=[];s.each(function(e,t){var a=$(this).find("option:selected").text().replaceAll('"',"˝");myProperty=$(this).find("label").text(),f.push(a),p.append('<input type="hidden" class="'+myProperty.toLowerCase()+'" name="properties['+myProperty+']" value="'+a.replace('"',"˝")+'">')});$("<p>"+f.join(" / ")+"</p>").appendTo(u)}$('<a class="draft-order__remove" href="#">&times;</a>').appendTo(l);$(c).fadeIn(),d()}),$(document).on("click",".btn--download-csv",function(e){e.preventDefault();var t="data:text/csv;charset=utf-8,Reference,Style,Room,Location,Qty,Type,W,H,Description,Construction,Glass,Swing,Extended Price,Base Price,SQ FT\n",a=0,r=0,o=0;$(".draft-order__custom-product").each(function(e,i){var d=$(this),c=e==$(".draft-order__custom-product").length-1;$.each(s,function(e,a){var r=n(a);d.data(r)&&(t+='"'+d.data(r)+'"'),t+=","}),d.data("square-footage")&&(t+=d.data("square-footage")),c||(t+="\n"),d.data("extended-price")&&(a+=parseFloat(d.data("extended-price"))),d.data("base-price")&&(r+=parseFloat(d.data("base-price"))),d.data("square-footage")&&(o+=parseFloat(d.data("square-footage")))}),t+="\n,,,,,,,,,,,,"+a+","+r+","+o;var i=encodeURI(t);window.open(i)}),$("#clear-results").on("click",function(e){e.preventDefault(),$(".product-list__hidden").empty(),d()}),$(document).on("click",".draft-order__remove",function(e){e.preventDefault();var t=$(this).closest(".draft-order__item");t.fadeOut("fast",function(){t.remove(),d()})}),$(document).on("click",".main-nav a",function(){console.log("do the thing"),$(".main-preloader").show()}),$("#create-draft-order").submit(function(e){$("#createDraftOrder").empty().append(r),e.preventDefault();var t={draft_order:{line_items:[]}};$(".draft-order__custom-product").each(function(e,a){var r=$(this),o=r.find(".draft-order__title h5").text(),i=r.find(".draft-order__variant").text(),d=r.find(".variant-quantity").val(),c=(r.data("color"),r.data("size"),r.data("jamb"),r.data("glass"),r.data("weight"),parseInt(r.data("base-price")),parseInt(r.data("extended-price"))),l=(Math.random().toString(36).substring(2,15),Math.random().toString(36).substring(2,15),{custom:!0,quantity:parseInt(d),title:o,price:c,variant_title:i,variant_id:null,taxable:!0,requires_shipping:!0,properties:[]});t.draft_order.line_items.push(l);var u=l.properties;$.each(s,function(e,t){var a=n(t);if(""!=r.data(a)&&"Extended Price"!=t&&"Base Price"!=t){var o={name:t,value:r.data(a)};u.push(o)}})});var a=$(".draft-order__saved-product").length;if($(".draft-order__saved-product").each(function(e,r){e===a-1&&$(this).addClass(".last");var o=$(this),n=o.find(".variant-id").val(),i=o.find(".variant-quantity").val(),d=o.find(".color").length?o.find(".color").val():"",s=o.find(".glass").length?o.find(".glass").val():"",c=o.find(".swing").length?o.find(".swing").val():"",l={variant_id:parseInt(n),quantity:parseInt(i),properties:[]};t.draft_order.line_items.push(l);var u=l.properties;if(d){var p={name:"Color",value:d};u.push(p)}if(s){p={name:"Glass",value:s};u.push(p)}if(c){p={name:"Swing",value:c};u.push(p)}}),$("#current-customer .user-list__user-info").length){var o={id:$("#current-customer").data("customer-id")};t.draft_order.customer=o,t.draft_order.use_customer_default_address=!0}$("#salesperson").val()&&(t.draft_order.tags="Salesperson:"+$("#salesperson").val()),console.log(t),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('input[name="_token"]').val()}}),$.ajax({method:"POST",headers:{"X-CSRF-TOKEN":$('input[name="_token"]').val()},url:"/draft-order",dataType:"json",contentType:"application/json; charset=UTF-8",data:JSON.stringify(t),success:function(e){console.log("successfully sent!"),$("#createDraftOrder").hide(),$("#createDraftOrder").find("svg").hide(),console.log(e);var t=e.body.draft_order.id,a=$("#gotoDraftOrder a").attr("href")+t;$("#gotoDraftOrder").show().find("a").attr("href",a).attr("data-name",e.body.draft_order.name),$(".btn--download-csv").attr("download","order-"+e.body.draft_order.name+".csv").fadeIn()},error:function(e){console.log("errr, nope")}})}),$(document).on("click",".btn--start-over",function(e){e.preventDefault(),$(".draft-order__saved-products").empty(),$("#gotoDraftOrder").hide(),$("#createDraftOrder").html("Create Draft Order").show(),$(".product-list__hidden").empty(),$(".custom-product__build").hide(),c(),$("#add-product").val("").focus(),$("#custom-width,#custom-height,#custom-extended-price,#custom-swing").val(""),$(".custom--square-footage").html("&nbsp;"),d()}),$(document).on("click",".add-custom-product",function(e){e.preventDefault(),$(".product-list__hidden").hide().empty(),$(".custom-product__build").fadeIn()}),$(document).on("click",".custom--cancel",function(e){e.preventDefault(),$(".custom-product__build").fadeOut()}),$(document).on("click",".calculate--square-footage",function(e){e.preventDefault();var t=parseInt($("#custom-width").val())/12,a=parseInt($("#custom-height").val()/12);if(t>0&&a>0){var r=t*a;r=Math.round(100*r)/100,$(".custom--square-footage").html(r+" ft&#178;").fadeIn(),$("#custom-extended-price").val(170*r).blur()}}),$("#addCustomerForm").submit(function(e){return e.preventDefault(),!1}),$(".add-customer-form__input").keyup(i(function(){var e=$(this).val(),a=".customer-form__loader";if(e.length>=3&&t!=e){$(a).fadeIn(),t=e;$.ajax({url:o+"/customer/"+e,success:function(e){console.log(e),$(".add-customer-form__results").empty(),e.length?($(".customer--no-results").fadeOut(),$(e).each(function(e,t){var r=t.node.displayName,o=t.node.id.replace("gid://shopify/Customer/","");$email=t.node.email,$gravatar=t.node.hash;var n=$('<div class="user-list__user-wrapper"></div>').appendTo(".add-customer-form__results"),i=$('<button data-customer-id="'+o+'" class="user-list__user"></button>').appendTo(n),d=$('<div class="relative flex flex--align-center"></div>').appendTo(i),s=($('<div class="user-list__user-image"><img width="40" src="'+$gravatar+'"></div>').appendTo(d),$('<div data-customer-id="'+o+'" class="user-list__user-info"></div>').appendTo(d));$('<div class="user-list__name">'+r+"</div>").appendTo(s),$('<div class="user-list__name">'+$email+"</div>").appendTo(s);$(a).fadeOut()}),$(".add-customer-form__results").fadeIn(),t="",d()):($(a).fadeOut(),$(".customer--no-results").fadeIn())},error:function(e){console.log(e)}})}},500)),$(document).on("click",".user-list__user",function(e){e.preventDefault();var t=$(this),a=t.data("customer-id"),r=t.html();$("#addCustomerForm").hide(),$(".btn--add-customer").hide(),$(".add-customer-form__results").hide().empty(),$("#current-customer").append(r).fadeIn().attr("data-customer-id",a),$("#current-customer .flex").append('<a href="#" class="current-customer__close">&times;</a>')}),$(document).on("click",".current-customer__close",function(e){e.preventDefault(),c()}),d(),$(document).on("click",".send-invoice",function(e){e.preventDefault();var t=$(this).attr("href");return console.log(t),!1})})},pyCd:function(e,t){}});